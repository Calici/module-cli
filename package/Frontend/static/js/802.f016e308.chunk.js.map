{"version":3,"file":"static/js/802.f016e308.chunk.js","mappings":"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","sources":["API/base.ts","core/loading/loading.tsx","display/share/pdf-viewer.tsx","display/pdf-view/main.tsx"],"sourcesContent":["import axios, {\n  AxiosHeaders,\n  AxiosRequestConfig,\n  AxiosRequestHeaders,\n  AxiosResponse,\n  Method\n} from 'axios'\nimport { Buffer } from 'buffer'\n\nabstract class TokenBase{\n  static storageKey : string = 'pharm-token'\n}\n\nexport class Token extends TokenBase{\n  refreshToken : string\n  jwtToken     : string\n  constructor(refreshToken : string = '', jwtToken : string = ''){\n    super()\n    this.refreshToken   = refreshToken\n    this.jwtToken       = jwtToken\n  }\n  clear(){\n    this.refreshToken   = ''\n    this.jwtToken       = ''\n  }\n  set(jwtToken : string = '', refreshToken : string = ''){\n    if(jwtToken !== '') this.jwtToken = jwtToken\n    if(refreshToken !== '') this.refreshToken = refreshToken\n    this.saveToken()\n  }\n  saveToken(){\n    const saveItem = {\n      refreshToken : this.refreshToken, jwtToken : this.jwtToken\n    }\n    const saveStr  = Buffer.from(JSON.stringify(saveItem)).toString('base64')\n    localStorage.setItem(Token.storageKey, saveStr)\n  }\n  loadToken(){\n    const load    = localStorage.getItem(Token.storageKey)\n    const loadStr = Buffer.from(load ? load : '', 'base64').toString('utf-8')\n    const loadItem= JSON.parse(loadStr)\n    this.refreshToken   = loadItem.refreshToken\n    this.jwtToken       = loadItem.jwtToken\n  }\n}\n\nabstract class BaseEndpoint{\n  url     : string\n  method  : Method\n  config  : AxiosRequestConfig\n  constructor(\n    method : Method, url : string, base_url : string = '',\n    config? : AxiosRequestConfig\n  ){\n    this.url = this._createUrl(base_url, url)\n    this.method = method\n    this.config = config ? config : {}\n  }\n  _createUrl(base_url : string, url : string){\n    const isUrl = /(http|https)(.*)/.test(url)\n    if (isUrl) return url\n    else if(base_url === '')\n      return `${process.env.REACT_APP_API_ENDPOINT}` + url\n    else\n      return base_url + url\n  }\n  abstract req() : Promise<AxiosResponse>\n}\n\nexport class Endpoint extends BaseEndpoint{\n  req(\n    data : Object = {},\n    headers : Partial<AxiosRequestHeaders> = {},\n    params : Object = {}\n  ){\n    return axios.request({\n      url     : this.url,\n      method  : this.method,\n      headers : headers as AxiosHeaders,\n      params  : params,\n      data    : data,\n      ...this.config\n    })\n  }\n}\n\nexport abstract class AuthEndpoint extends BaseEndpoint{\n  token               : Token\n  constructor(\n    method : Method,\n    url : string,\n    token : Token = new Token(),\n    base_url : string = '', config? : AxiosRequestConfig\n  ){\n    super(method, url, base_url, config)\n    this.token        = token\n  }\n  abstract _createHeader() : Object\n  abstract _createFallbackHeader() : Object\n  abstract fallbackRequest() : Promise<AxiosResponse>\n\n  // Common implementation\n  req(\n    data : Object = {},\n    headers : Partial<AxiosRequestHeaders> = {},\n    params : Object = {}\n  ){\n    return new Promise<AxiosResponse>((res, rej) => {\n      axios.request({\n        url : this.url,\n        method : this.method,\n        headers : {\n          ...this._createHeader(), ...headers\n        } as AxiosHeaders,\n        params,\n        data,\n        ...this.config\n      })\n      .then((resp) => res(resp))\n      .catch((err) => {\n        if(err.response && err.response.status === 403){\n          this.fallbackRequest()\n          .then(() => {\n            axios.request({\n              url : this.url,\n              method : this.method,\n              headers : {\n                ...this._createHeader(), ...headers\n              } as AxiosHeaders,\n              params,\n              data,\n              ...this.config\n            })\n            .then((resp) => res(resp))\n            .catch((err) => rej(err))\n          })\n          .catch((err) => rej(err))\n        }\n        else rej(err)\n      })\n    })\n  }\n}\n\nexport class TokenEndpoint extends AuthEndpoint{\n  _createHeader(){\n    return {Authorization : `Token ${this.token.jwtToken}`}\n  }\n  _createFallbackHeader(){\n    return {Authorization : `Token ${this.token.jwtToken} ${this.token.refreshToken}`}\n  }\n  fallbackRequest() : Promise<AxiosResponse>{\n    let endpoint  = new Endpoint('get', 'user/refresh-token/')\n    let header    = this._createFallbackHeader()\n    return new Promise((res, rej) => {\n      endpoint.req({}, header)\n      .then((resp) => {\n        UNIVERSAL_TOKEN.set(resp.data.jwt)\n        res(resp)\n      })\n      .catch((err) => rej(err))\n    })\n  }\n}\n\nexport var UNIVERSAL_TOKEN = new Token()\n\nexport abstract class APIObject{\n  abstract data : Object\n  abstract get() : Promise<AxiosResponse>\n  abstract update(payload : Object) : Promise<AxiosResponse>\n  abstract delete(payload? : Object) : Promise<AxiosResponse>\n}\n\nexport type APIWithDetailsT<\n  MinimalDataT,\n  DetailedDataT,\n  DetailedGetterT extends\n  Record<\n    string,\n    (...args : any[]) => Promise<APIWithDetailsT<\n      MinimalDataT,\n      DetailedDataT,\n      DetailedGetterT,\n      true\n    >>\n  >,\n  IsDetailed extends boolean\n> = {\n  detailed : IsDetailed\n  data : IsDetailed extends true ? DetailedDataT : MinimalDataT\n  clone : () => APIWithDetailsT<\n    MinimalDataT,\n    DetailedDataT,\n    DetailedGetterT,\n    IsDetailed\n  >,\n} &\nDetailedGetterT\n","import React from 'react'\nimport './loading.css'\n\nexport default class Loading extends React.Component{\n  render(){\n    return(\n      <div className=\"loading-box\">\n        <div className=\"loading\"></div>\n        <p className=\"loading-text\">Loading</p>\n      </div>\n    )\n  }\n}\n","import React from 'react'\r\nimport { PDFDocumentProxy } from 'pdfjs-dist';\r\nimport { Endpoint, TokenEndpoint, UNIVERSAL_TOKEN } from 'API/base';\r\nimport { Document, pdfjs, Page } from 'react-pdf';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleLeft, faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loading from 'core/loading/loading';\r\nimport \"./pdf-viewer.css\"\r\nimport EmptyList from 'components/empty-list/emptylist';\r\nimport NoResult from 'assets/noresult/no-request.png';\r\n\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc =\r\n  `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\ntype AutoQueryP<T> = {\r\n  file : string,\r\n  version : number,\r\n  params : Record<string, any>\r\n  render : React.ComponentType<{ file : Blob } & T>\r\n  props : T\r\n}\r\n\r\nconst AutoQuery = <T, >(\r\n  {file : fileURL, version, render : Component, props, params} : AutoQueryP<T>\r\n) => {\r\n  const [file, setFile] = React.useState<Blob | null>(null)\r\n  const [error, setError] = React.useState(false)\r\n  React.useEffect(() => {\r\n    if (fileURL.length === 0) return ;\r\n    const isExternal = /(http|https)(.*)/.test(fileURL)\r\n    const endpoint = isExternal ?\r\n      new Endpoint(\r\n        \"GET\", fileURL, \"\",\r\n        {\r\n          responseType : 'blob',\r\n          withCredentials : false\r\n        }\r\n      ) :\r\n      new TokenEndpoint(\r\n        \"GET\", fileURL, UNIVERSAL_TOKEN, undefined, {responseType : 'blob'}\r\n      )\r\n    endpoint.req({}, {}, params)\r\n    .then((resp) => {\r\n      if (!(resp.data instanceof Blob))\r\n        console.error(\"Error when querying \", fileURL, \" response is not blob\")\r\n      setFile(resp.data)\r\n    })\r\n    .catch((err) => {\r\n      setError(true)\r\n      console.error(err)\r\n    })\r\n  }, [fileURL, setFile, version, setError, params])\r\n  if (fileURL.length === 0)\r\n    return (\r\n      <EmptyList\r\n        text=\"PDF Report has not been generated yet.\"\r\n        img={NoResult}\r\n        className=\"no-result\"\r\n      />\r\n    )\r\n  else if (file !== null)\r\n    return <Component file = {file} {...props} />\r\n  else if (!error)\r\n    return <Loading />\r\n  else\r\n    return(\r\n      <EmptyList\r\n        text=\"There has been an error while loading the file.\"\r\n        img={NoResult}\r\n        className=\"no-result\"\r\n      />\r\n    )\r\n}\r\n\r\ntype PDFViewerP = {\r\n  file : Blob | string\r\n  version : number,\r\n  className? : string,\r\n  params : Record<string, any>\r\n}\r\n\r\nexport const PDFViewer = ({file, version, className, params} : PDFViewerP) => {\r\n  const [numOfPage, setNumOfPage] = React.useState(0)\r\n  const [pageNum, setPageNum] = React.useState(0)\r\n  const onLoadSuccess = React.useCallback((pdf : PDFDocumentProxy) => {\r\n    setNumOfPage(pdf._pdfInfo.numPages)\r\n    setPageNum(1)\r\n  }, [setNumOfPage, setPageNum])\r\n  const changePage = React.useCallback((offset : number) => {\r\n    const newPage = offset + pageNum\r\n    if (newPage > 0 && newPage <= numOfPage)\r\n      setPageNum(newPage)\r\n  }, [setPageNum, pageNum, numOfPage])\r\n  if (file instanceof Blob)\r\n    return (\r\n      <div className = 'pdf-file-main'>\r\n        <div className = 'pdf-file-container'>\r\n          <Document\r\n            file = {file}\r\n            onLoadSuccess = {onLoadSuccess}\r\n            loading = {<Loading />}\r\n          >\r\n            <Page\r\n              pageNumber = {pageNum}\r\n              renderAnnotationLayer = {false}\r\n              renderTextLayer = {false}\r\n              height = {window.innerHeight - 300}\r\n            />\r\n          </Document>\r\n        </div>\r\n        <div className = 'pdf-control'>\r\n            <button className=\"icon-button\" onClick = {() => changePage(-1)}>\r\n              <FontAwesomeIcon icon = {faAngleLeft} />\r\n            </button>\r\n            <p>{pageNum} / {numOfPage}</p>\r\n            <button className=\"icon-button\" onClick = {() => changePage(1)}>\r\n              <FontAwesomeIcon icon = {faAngleRight} />\r\n            </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  else\r\n    return (\r\n      <AutoQuery\r\n        file = {file}\r\n        version = {version}\r\n        params = {params}\r\n        render = {PDFViewer}\r\n        props = {{\r\n          className : className,\r\n          version : version,\r\n          params : params\r\n        }}\r\n      />\r\n    )\r\n}\r\n\r\n\r\nexport default PDFViewer\r\n","import { SocketControl } from \"interfaces/component\"\r\nimport { PDFDisplayT } from \"interfaces/pdfDisplay/v0\"\r\nimport SocketMessages from \"../share/socket-message\";\r\nimport ProgressBar from \"components/progressbar/progressbar\";\r\nimport RunTimer from \"../share/run_timer\";\r\nimport Controls from \"../share/controls\";\r\nimport PDFViewer from \"../share/pdf-viewer\";\r\nimport \"../one-table/main.css\"\r\n\r\ntype PDFDisplayP = {\r\n  component : PDFDisplayT,\r\n  controls : SocketControl\r\n}\r\n\r\nconst PROGRESS_TICK = 50\r\n\r\nconst PDFDisplay = ({ component, controls } : PDFDisplayP) => {\r\n  return (\r\n    <div className = 'run-container'>\r\n      <div className = 'simul-status'>\r\n        <SocketMessages\r\n          messages={component.messages}\r\n          mainLineCount={5}\r\n          className=\"one-table-message result-table-message\"\r\n          expandable={false}\r\n        />\r\n        <div className = {\r\n          'simul-progress ' +\r\n          (component.progress.value === 100 ? 'done ' : '') +\r\n          (component.status === 'STOP' ? 'pause' : \"\")\r\n        }>\r\n          <ProgressBar\r\n            bouncy = {component.progress.bouncy}\r\n            showBar = {true}\r\n            showNumber = {true}\r\n            completed = {component.progress.value}\r\n            tick = {PROGRESS_TICK}\r\n          />\r\n          <RunTimer\r\n            startTime = {component.time.startTime}\r\n            status = {component.status}\r\n          />\r\n        </div>\r\n        <Controls\r\n          progress = {component.progress.value}\r\n          controls = {controls}\r\n          status = {component.status}\r\n          config = {component.controls}\r\n          className = 'one-table'\r\n        />\r\n      </div>\r\n      <PDFViewer\r\n        file = {component.pdf_file.url}\r\n        version = {component.pdf_file.version}\r\n        params = {component.pdf_file.params}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PDFDisplay\r\n"],"names":["TokenBase","storageKey","Token","constructor","refreshToken","arguments","length","undefined","jwtToken","super","this","clear","set","saveToken","saveItem","saveStr","Buffer","from","JSON","stringify","toString","localStorage","setItem","loadToken","load","getItem","loadStr","loadItem","parse","BaseEndpoint","method","url","base_url","config","_createUrl","test","concat","process","REACT_APP_API_ENDPOINT","Endpoint","req","data","headers","params","axios","request","AuthEndpoint","token","Promise","res","rej","_createHeader","then","resp","catch","err","response","status","fallbackRequest","TokenEndpoint","Authorization","_createFallbackHeader","endpoint","header","UNIVERSAL_TOKEN","jwt","Loading","React","render","_jsxs","className","children","_jsx","pdfjs","GlobalWorkerOptions","workerSrc","version","AutoQuery","_ref","file","fileURL","Component","props","setFile","error","setError","responseType","withCredentials","Blob","console","EmptyList","text","img","NoResult","PDFViewer","_ref2","numOfPage","setNumOfPage","pageNum","setPageNum","onLoadSuccess","pdf","_pdfInfo","numPages","changePage","offset","newPage","Document","loading","Page","pageNumber","renderAnnotationLayer","renderTextLayer","height","window","innerHeight","onClick","FontAwesomeIcon","icon","faAngleLeft","faAngleRight","component","controls","SocketMessages","messages","mainLineCount","expandable","progress","value","ProgressBar","bouncy","showBar","showNumber","completed","tick","RunTimer","startTime","time","Controls","pdf_file"],"sourceRoot":""}